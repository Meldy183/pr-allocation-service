openapi: 3.0.3
info:
  title: Git Simulation Platform API
  description: |
    Полное API платформы для моделирования Git с Code Review.
    
    ## Архитектура
    
    Платформа состоит из трёх микросервисов:
    
    ### 1. User Gateway Service (порт 8082)
    Фасад-сервис для конечных пользователей. Оркестрирует остальные сервисы,
    валидирует права доступа. **Рекомендуется использовать этот сервис.**
    
    Все запросы используют **имена** (team_name, username, repo_name, commit_name, pr_name).
    UUID/ID возвращаются только в ответах для справки.
    
    ### 2. PR Allocation Service (порт 8080)  
    Управление командами, пользователями и Pull Requests.
    Автоматическое назначение ревьюверов. (Внутренний API)
    
    ### 3. Code Storage Service (порт 8081)
    Хранение кода в виде деревьев коммитов. 
    Поддержка init, push, checkout, merge. (Внутренний API)
    
    ## Аутентификация
    
    Пользователь идентифицируется через заголовок `X-Username` (имя пользователя).

  version: "1.0.0"
  contact:
    name: API Support

servers:
  - url: http://localhost:8082
    description: User Gateway Service (рекомендуется)
  - url: http://localhost:8080
    description: PR Allocation Service (внутренний)
  - url: http://localhost:8081
    description: Code Storage Service (внутренний)

tags:
  # User Gateway Service tags
  - name: "[Gateway] Profile"
    description: Профиль пользователя
  - name: "[Gateway] Teams"
    description: Управление командами через Gateway
  - name: "[Gateway] Repository"
    description: Работа с репозиториями и коммитами через Gateway
  - name: "[Gateway] Pull Requests"
    description: Управление Pull Requests через Gateway

  # PR Allocation Service tags
  - name: "[PR-Alloc] Teams"
    description: Управление командами (внутренний)
  - name: "[PR-Alloc] Users"
    description: Управление пользователями (внутренний)
  - name: "[PR-Alloc] Pull Requests"
    description: Управление PR (внутренний API)

  # Code Storage Service tags
  - name: "[Storage] Commits"
    description: Работа с коммитами (внутренний API)

  # Common
  - name: Health
    description: Health checks

components:
  parameters:
    # User Gateway parameters
    UsernameHeader:
      name: X-Username
      in: header
      required: true
      schema:
        type: string
      description: Имя текущего пользователя (строка)

    # PR Allocation parameters (внутренние)
    TeamNameQuery:
      name: team_name
      in: query
      required: true
      schema:
        type: string
      description: Имя команды

    UserIdQuery:
      name: user_id
      in: query
      required: true
      schema:
        type: string
      description: Идентификатор пользователя

    # Code Storage parameters (внутренние)
    TeamIdQuery:
      name: team_id
      in: query
      required: true
      schema:
        type: string
        format: uuid
      description: UUID команды

    RootCommitQuery:
      name: root_commit
      in: query
      required: true
      schema:
        type: string
        format: uuid
      description: Корневой коммит репозитория

    CommitIdQuery:
      name: commit_id
      in: query
      required: true
      schema:
        type: string
        format: uuid
      description: Идентификатор коммита

  schemas:
    # Common Error Response
    ErrorResponse:
      type: object
      required: [error]
      properties:
        error:
          type: object
          required: [code, message]
          properties:
            code:
              type: string
              enum:
                - ACCESS_DENIED
                - USER_NOT_FOUND
                - USER_INACTIVE
                - TEAM_NOT_FOUND
                - COMMIT_NOT_FOUND
                - PR_NOT_FOUND
                - PR_ALREADY_EXISTS
                - PR_ALREADY_MERGED
                - NOT_REVIEWER
                - INVALID_REQUEST
                - INTERNAL_ERROR
            message:
              type: string
      example:
        error:
          code: ACCESS_DENIED
          message: "You don't have access to this repository"

    # ========== User Gateway schemas ==========
    UserProfile:
      type: object
      required: [username, team_name, is_active]
      properties:
        user_id:
          type: string
          description: ID пользователя (в ответе)
        username:
          type: string
        team_id:
          type: string
          format: uuid
          description: UUID команды (в ответе)
        team_name:
          type: string
        is_active:
          type: boolean

    GatewayCommit:
      type: object
      required: [created_at]
      properties:
        commit_id:
          type: string
          format: uuid
          description: UUID коммита (в ответе)
        root_commit:
          type: string
          format: uuid
          description: UUID корневого коммита (в ответе)
        parent_commit_ids:
          type: array
          items:
            type: string
            format: uuid
          description: UUID родительских коммитов (в ответе)
        commit_name:
          type: string
          description: Человекочитаемое имя коммита
        repo_name:
          type: string
          description: Имя репозитория
        created_at:
          type: string
          format: date-time

    GatewayPullRequest:
      type: object
      required: [title, author_name, status, created_at]
      properties:
        pr_id:
          type: string
          description: ID пулл реквеста (в ответе)
        pr_name:
          type: string
          description: Уникальное имя PR
        title:
          type: string
        author_id:
          type: string
          description: ID автора (в ответе)
        author_name:
          type: string
          description: Имя автора
        status:
          type: string
          enum: [OPEN, MERGED, REJECTED]
        reviewer_ids:
          type: array
          items:
            type: string
          description: ID ревьюверов (в ответе)
        reviewer_names:
          type: array
          items:
            type: string
          description: Имена ревьюверов
        source_commit_id:
          type: string
          format: uuid
          description: UUID source коммита (в ответе)
        source_commit_name:
          type: string
        target_commit_id:
          type: string
          format: uuid
          description: UUID target коммита (в ответе)
        target_commit_name:
          type: string
        root_commit_id:
          type: string
          format: uuid
          description: UUID репозитория (в ответе)
        repo_name:
          type: string
        team_name:
          type: string
        created_at:
          type: string
          format: date-time
        merged_at:
          type: string
          format: date-time
          nullable: true

    PullRequestList:
      type: object
      required: [pull_requests]
      properties:
        pull_requests:
          type: array
          items:
            $ref: '#/components/schemas/GatewayPullRequest'

    TeamMember:
      type: object
      required: [username, is_active]
      properties:
        user_id:
          type: string
          description: ID пользователя (в ответе)
        username:
          type: string
        is_active:
          type: boolean

    Team:
      type: object
      required: [team_name, members]
      properties:
        team_id:
          type: string
          format: uuid
          description: UUID команды (в ответе)
        team_name:
          type: string
        members:
          type: array
          items:
            $ref: '#/components/schemas/TeamMember'

    # ========== Internal schemas ==========
    StorageCommit:
      type: object
      required: [commit_id, team_id, root_commit, parent_commit_ids, createdAt]
      properties:
        commit_id:
          type: string
          format: uuid
        team_id:
          type: string
          format: uuid
        root_commit:
          type: string
          format: uuid
        parent_commit_ids:
          type: array
          items:
            type: string
            format: uuid
        createdAt:
          type: string
          format: date-time
        commit_name:
          type: string
          nullable: true

    InternalPullRequest:
      type: object
      required: [pull_request_id, pull_request_name, author_id, status, assigned_reviewers]
      properties:
        pull_request_id:
          type: string
        pull_request_name:
          type: string
        author_id:
          type: string
        status:
          type: string
          enum: [OPEN, MERGED]
        assigned_reviewers:
          type: array
          items:
            type: string
        createdAt:
          type: string
          format: date-time
          nullable: true
        mergedAt:
          type: string
          format: date-time
          nullable: true

paths:
  # ============================================================
  # HEALTH CHECKS
  # ============================================================

  /health:
    get:
      tags: [Health]
      summary: "[Gateway] Health check"
      servers:
        - url: http://localhost:8082
      responses:
        '200':
          description: Service is healthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: ok

  # ============================================================
  # USER GATEWAY SERVICE - Profile
  # ============================================================

  /api/me:
    get:
      tags: ["[Gateway] Profile"]
      summary: Получить профиль текущего пользователя
      servers:
        - url: http://localhost:8082
      parameters:
        - $ref: '#/components/parameters/UsernameHeader'
      responses:
        '200':
          description: Профиль пользователя
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    $ref: '#/components/schemas/UserProfile'
        '404':
          description: Пользователь не найден
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  # ============================================================
  # USER GATEWAY SERVICE - Teams
  # ============================================================

  /api/team/create:
    post:
      tags: ["[Gateway] Teams"]
      summary: Создать команду с участниками
      description: |
        Создаёт команду с указанными участниками.
        Используйте только имена (team_name, username).
      servers:
        - url: http://localhost:8082
      parameters:
        - $ref: '#/components/parameters/UsernameHeader'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [team_name, members]
              properties:
                team_name:
                  type: string
                  description: Уникальное имя команды
                members:
                  type: array
                  items:
                    type: object
                    required: [username]
                    properties:
                      username:
                        type: string
                        description: Уникальное имя пользователя
                      is_active:
                        type: boolean
                        default: true
            example:
              team_name: backend
              members:
                - username: alice
                  is_active: true
                - username: bob
                  is_active: true
      responses:
        '201':
          description: Команда создана
          content:
            application/json:
              schema:
                type: object
                properties:
                  team:
                    $ref: '#/components/schemas/Team'
        '400':
          description: Команда уже существует
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/team/get:
    get:
      tags: ["[Gateway] Teams"]
      summary: Получить команду по имени
      servers:
        - url: http://localhost:8082
      parameters:
        - $ref: '#/components/parameters/UsernameHeader'
        - name: team_name
          in: query
          required: true
          schema:
            type: string
          description: Имя команды
      responses:
        '200':
          description: Информация о команде
          content:
            application/json:
              schema:
                type: object
                properties:
                  team:
                    $ref: '#/components/schemas/Team'
        '404':
          description: Команда не найдена
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  # ============================================================
  # USER GATEWAY SERVICE - Repository
  # ============================================================

  /api/repo/init:
    post:
      tags: ["[Gateway] Repository"]
      summary: Инициализировать новый репозиторий
      description: Создаёт root commit с начальным кодом. Используйте имена.
      servers:
        - url: http://localhost:8082
      parameters:
        - $ref: '#/components/parameters/UsernameHeader'
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required: [team_name, repo_name, commit_name, code]
              properties:
                team_name:
                  type: string
                  description: Имя команды
                repo_name:
                  type: string
                  description: Уникальное имя репозитория
                commit_name:
                  type: string
                  description: Имя начального коммита (например "main" или "initial")
                code:
                  type: string
                  format: binary
                  description: ZIP архив с исходным кодом (≤ 100MB)
      responses:
        '201':
          description: Репозиторий инициализирован
          content:
            application/json:
              schema:
                type: object
                properties:
                  commit:
                    $ref: '#/components/schemas/GatewayCommit'
        '403':
          description: Нет доступа
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/repo/push:
    post:
      tags: ["[Gateway] Repository"]
      summary: Создать новый коммит
      description: Создаёт коммит поверх существующего. Используйте имена.
      servers:
        - url: http://localhost:8082
      parameters:
        - $ref: '#/components/parameters/UsernameHeader'
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required: [team_name, repo_name, parent_commit_name, commit_name, code]
              properties:
                team_name:
                  type: string
                  description: Имя команды
                repo_name:
                  type: string
                  description: Имя репозитория
                parent_commit_name:
                  type: string
                  description: Имя родительского коммита
                commit_name:
                  type: string
                  description: Имя нового коммита
                code:
                  type: string
                  format: binary
                  description: ZIP архив с кодом
      responses:
        '201':
          description: Коммит создан
          content:
            application/json:
              schema:
                type: object
                properties:
                  commit:
                    $ref: '#/components/schemas/GatewayCommit'
        '403':
          description: Нет доступа
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Не найден
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/repo/checkout:
    get:
      tags: ["[Gateway] Repository"]
      summary: Получить код коммита
      description: Возвращает ZIP архив с кодом. Используйте имена.
      servers:
        - url: http://localhost:8082
      parameters:
        - $ref: '#/components/parameters/UsernameHeader'
        - name: team_name
          in: query
          required: true
          schema:
            type: string
          description: Имя команды
        - name: repo_name
          in: query
          required: true
          schema:
            type: string
          description: Имя репозитория
        - name: commit_name
          in: query
          required: true
          schema:
            type: string
          description: Имя коммита
      responses:
        '200':
          description: ZIP архив с кодом
          content:
            application/zip:
              schema:
                type: string
                format: binary
        '403':
          description: Нет доступа
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Не найден
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  # ============================================================
  # USER GATEWAY SERVICE - Pull Requests
  # ============================================================

  /api/pr/create:
    post:
      tags: ["[Gateway] Pull Requests"]
      summary: Создать Pull Request
      description: |
        Создаёт PR и автоматически назначает ревьюверов.
        Все идентификаторы - имена (строки).
      servers:
        - url: http://localhost:8082
      parameters:
        - $ref: '#/components/parameters/UsernameHeader'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [title, pr_name, team_name, repo_name, source_commit_name, target_commit_name]
              properties:
                title:
                  type: string
                  description: Название PR
                pr_name:
                  type: string
                  description: Уникальное имя PR
                team_name:
                  type: string
                  description: Имя команды
                repo_name:
                  type: string
                  description: Имя репозитория
                source_commit_name:
                  type: string
                  description: Имя source коммита
                target_commit_name:
                  type: string
                  description: Имя target коммита
            example:
              title: "Add user authentication"
              pr_name: "auth-feature"
              team_name: "backend"
              repo_name: "main-service"
              source_commit_name: "feature-branch"
              target_commit_name: "main"
      responses:
        '201':
          description: PR создан
          content:
            application/json:
              schema:
                type: object
                properties:
                  pull_request:
                    $ref: '#/components/schemas/GatewayPullRequest'
        '403':
          description: Нет доступа
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '409':
          description: PR уже существует
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/pr/my:
    get:
      tags: ["[Gateway] Pull Requests"]
      summary: Получить мои Pull Requests
      description: PR, где текущий пользователь - автор.
      servers:
        - url: http://localhost:8082
      parameters:
        - $ref: '#/components/parameters/UsernameHeader'
        - name: status
          in: query
          required: false
          schema:
            type: string
            enum: [OPEN, MERGED, REJECTED]
      responses:
        '200':
          description: Список PR
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PullRequestList'

  /api/pr/reviews:
    get:
      tags: ["[Gateway] Pull Requests"]
      summary: Получить PR на ревью
      description: PR, где текущий пользователь - ревьювер.
      servers:
        - url: http://localhost:8082
      parameters:
        - $ref: '#/components/parameters/UsernameHeader'
        - name: status
          in: query
          required: false
          schema:
            type: string
            enum: [OPEN, MERGED, REJECTED]
      responses:
        '200':
          description: Список PR на ревью
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PullRequestList'

  /api/pr/approve:
    post:
      tags: ["[Gateway] Pull Requests"]
      summary: Одобрить PR
      description: Одобряет PR и выполняет merge. Только ревьювер.
      servers:
        - url: http://localhost:8082
      parameters:
        - $ref: '#/components/parameters/UsernameHeader'
        - name: team_name
          in: query
          required: true
          schema:
            type: string
          description: Имя команды
        - name: pr_name
          in: query
          required: true
          schema:
            type: string
          description: Имя PR
      responses:
        '200':
          description: PR одобрен и смержен
          content:
            application/json:
              schema:
                type: object
                properties:
                  pull_request:
                    $ref: '#/components/schemas/GatewayPullRequest'
                  merge_commit:
                    $ref: '#/components/schemas/GatewayCommit'
        '403':
          description: Не ревьювер
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: PR не найден
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/pr/reject:
    post:
      tags: ["[Gateway] Pull Requests"]
      summary: Отклонить PR
      description: Отклоняет PR. Только ревьювер.
      servers:
        - url: http://localhost:8082
      parameters:
        - $ref: '#/components/parameters/UsernameHeader'
        - name: team_name
          in: query
          required: true
          schema:
            type: string
          description: Имя команды
        - name: pr_name
          in: query
          required: true
          schema:
            type: string
          description: Имя PR
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                reason:
                  type: string
      responses:
        '200':
          description: PR отклонён
          content:
            application/json:
              schema:
                type: object
                properties:
                  pull_request:
                    $ref: '#/components/schemas/GatewayPullRequest'
        '403':
          description: Не ревьювер
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/pr/code:
    get:
      tags: ["[Gateway] Pull Requests"]
      summary: Получить код PR
      description: ZIP с кодом source commit. Для ревью.
      servers:
        - url: http://localhost:8082
      parameters:
        - $ref: '#/components/parameters/UsernameHeader'
        - name: team_name
          in: query
          required: true
          schema:
            type: string
          description: Имя команды
        - name: pr_name
          in: query
          required: true
          schema:
            type: string
          description: Имя PR
      responses:
        '200':
          description: ZIP архив с кодом
          content:
            application/zip:
              schema:
                type: string
                format: binary
        '403':
          description: Нет доступа
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  # ============================================================
  # PR ALLOCATION SERVICE (Internal)
  # ============================================================

  /team/add:
    post:
      tags: ["[PR-Alloc] Teams"]
      summary: "[Internal] Создать команду"
      servers:
        - url: http://localhost:8080
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [team_name, members]
              properties:
                team_name:
                  type: string
                members:
                  type: array
                  items:
                    type: object
                    required: [user_id, username]
                    properties:
                      user_id:
                        type: string
                      username:
                        type: string
                      is_active:
                        type: boolean
      responses:
        '201':
          description: Команда создана
          content:
            application/json:
              schema:
                type: object
                properties:
                  team:
                    $ref: '#/components/schemas/Team'

  /team/get:
    get:
      tags: ["[PR-Alloc] Teams"]
      summary: "[Internal] Получить команду"
      servers:
        - url: http://localhost:8080
      parameters:
        - $ref: '#/components/parameters/TeamNameQuery'
      responses:
        '200':
          description: Команда
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Team'

  /team/resolve:
    get:
      tags: ["[PR-Alloc] Teams"]
      summary: "[Internal] Получить UUID команды по имени"
      servers:
        - url: http://localhost:8080
      parameters:
        - $ref: '#/components/parameters/TeamNameQuery'
      responses:
        '200':
          description: Team ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  team_name:
                    type: string
                  team_id:
                    type: string
                    format: uuid

  /users/get:
    get:
      tags: ["[PR-Alloc] Users"]
      summary: "[Internal] Получить пользователя"
      servers:
        - url: http://localhost:8080
      parameters:
        - $ref: '#/components/parameters/UserIdQuery'
      responses:
        '200':
          description: Пользователь
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    $ref: '#/components/schemas/UserProfile'

  /pullRequest/create:
    post:
      tags: ["[PR-Alloc] Pull Requests"]
      summary: "[Internal] Создать PR"
      servers:
        - url: http://localhost:8080
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [pull_request_id, pull_request_name, author_id]
              properties:
                pull_request_id:
                  type: string
                pull_request_name:
                  type: string
                author_id:
                  type: string
      responses:
        '201':
          description: PR создан
          content:
            application/json:
              schema:
                type: object
                properties:
                  pr:
                    $ref: '#/components/schemas/InternalPullRequest'

  /pullRequest/merge:
    post:
      tags: ["[PR-Alloc] Pull Requests"]
      summary: "[Internal] Смержить PR"
      servers:
        - url: http://localhost:8080
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [pull_request_id]
              properties:
                pull_request_id:
                  type: string
      responses:
        '200':
          description: PR смержен
          content:
            application/json:
              schema:
                type: object
                properties:
                  pr:
                    $ref: '#/components/schemas/InternalPullRequest'

  # ============================================================
  # CODE STORAGE SERVICE (Internal)
  # ============================================================

  /storage/init:
    post:
      tags: ["[Storage] Commits"]
      summary: "[Internal] Инициализировать репозиторий"
      servers:
        - url: http://localhost:8081
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required: [team_id, code]
              properties:
                team_id:
                  type: string
                  format: uuid
                commit_name:
                  type: string
                code:
                  type: string
                  format: binary
      responses:
        '200':
          description: Репозиторий создан
          content:
            application/json:
              schema:
                type: object
                properties:
                  commit:
                    $ref: '#/components/schemas/StorageCommit'

  /storage/push:
    post:
      tags: ["[Storage] Commits"]
      summary: "[Internal] Создать коммит"
      servers:
        - url: http://localhost:8081
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required: [team_id, root_commit, commit_id, code]
              properties:
                team_id:
                  type: string
                  format: uuid
                root_commit:
                  type: string
                  format: uuid
                commit_id:
                  type: string
                  format: uuid
                  description: Parent commit ID
                commit_name:
                  type: string
                code:
                  type: string
                  format: binary
      responses:
        '201':
          description: Коммит создан
          content:
            application/json:
              schema:
                type: object
                properties:
                  commit:
                    $ref: '#/components/schemas/StorageCommit'

  /storage/checkout:
    get:
      tags: ["[Storage] Commits"]
      summary: "[Internal] Получить код коммита"
      servers:
        - url: http://localhost:8081
      parameters:
        - $ref: '#/components/parameters/TeamIdQuery'
        - $ref: '#/components/parameters/RootCommitQuery'
        - $ref: '#/components/parameters/CommitIdQuery'
      responses:
        '200':
          description: ZIP с кодом
          content:
            application/zip:
              schema:
                type: string
                format: binary

  /storage/merge:
    post:
      tags: ["[Storage] Commits"]
      summary: "[Internal] Смержить коммиты"
      servers:
        - url: http://localhost:8081
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [team_id, root_commit, commit_id1, commit_id2]
              properties:
                team_id:
                  type: string
                  format: uuid
                root_commit:
                  type: string
                  format: uuid
                commit_id1:
                  type: string
                  format: uuid
                commit_id2:
                  type: string
                  format: uuid
      responses:
        '201':
          description: Merge commit создан
          content:
            application/json:
              schema:
                type: object
                properties:
                  commit:
                    $ref: '#/components/schemas/StorageCommit'

  /storage/resolve:
    get:
      tags: ["[Storage] Commits"]
      summary: "[Internal] Получить UUID коммита по имени"
      servers:
        - url: http://localhost:8081
      parameters:
        - $ref: '#/components/parameters/TeamIdQuery'
        - name: repo_name
          in: query
          required: true
          schema:
            type: string
          description: Имя репозитория
        - name: commit_name
          in: query
          required: true
          schema:
            type: string
          description: Имя коммита
      responses:
        '200':
          description: Commit ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  commit_id:
                    type: string
                    format: uuid
        '404':
          description: Коммит не найден

